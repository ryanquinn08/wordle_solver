<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Wordle Wizard</title>
  
  <!-- Import Work Sans from Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@100..900&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Work Sans', sans-serif;
    }

    body {
      font-family: 'Work Sans', sans-serif;
      line-height: 1.6;
      color: #333;
    }

    header {
      background: transparent;
      padding: 20px 40px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-family: 'Work Sans', sans-serif;
    }

    nav a {
      margin: 0 15px;
      color: #374151;
      text-decoration: none;
      font-weight: bold;
    }

    .cta {
      background: #6366f1;
      color: white;
      padding: 16px 32px;
      border-radius: 9999px;
      font-weight: bold;
      font-size: 20px;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 40px 20px;
    }

    .solver-header {
      text-align: center;
      margin-bottom: 40px;
    }

    .solver-title {
      font-family: 'Work Sans', sans-serif;
      font-size: 48px;
      font-weight: 600;
      color: #1f2937;
      margin-bottom: 16px;
      text-align: center;
    }

    .solver-subtitle {
      font-family: 'Work Sans', sans-serif;
      font-size: 18px;
      color: #6b7280;
      text-align: center;
      max-width: 600px;
      margin: 0 auto;
    }

    /* How to Use Section Styles */
    .how-to-use {
      margin-top: 20px;
      text-align: center;
    }

    .how-to-title {
      font-family: 'Work Sans', sans-serif;
      font-size: 20px;
      font-weight: 600;
      color: #374151;
      margin-bottom: 20px;
    }

    .how-to-steps {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      flex-wrap: wrap;
    }

    .step {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 8px;
      min-width: 120px;
    }

    .step-icon {
      font-size: 32px;
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      box-shadow: 0 4px 12px rgba(99, 102, 241, 0.3);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .step:hover .step-icon {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(99, 102, 241, 0.4);
    }

    .step-text {
      font-family: 'Work Sans', sans-serif;
      font-size: 14px;
      font-weight: 500;
      color: #374151;
      text-align: center;
      line-height: 1.3;
    }

    .open-wordle-btn {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 10px;
      font-weight: 600;
      font-family: 'Work Sans', sans-serif;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      line-height: 1;
      padding: 0;
    }

    .open-wordle-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(16, 185, 129, 0.4);
      background: linear-gradient(135deg, #059669, #047857);
    }

    .step-arrow {
      font-size: 24px;
      color: #6366f1;
      font-weight: bold;
      margin: 0 10px;
    }

    /* Responsive adjustments for how-to section */
    @media (max-width: 768px) {
      .how-to-steps {
        gap: 15px;
      }

      .step {
        min-width: 100px;
      }

      .step-icon {
        font-size: 28px;
        width: 50px;
        height: 50px;
      }

      .open-wordle-btn {
        width: 50px;
        height: 50px;
        font-size: 8px;
      }

      .step-text {
        font-size: 12px;
      }

      .step-arrow {
        font-size: 20px;
        margin: 0 5px;
      }
    }

    @media (max-width: 480px) {
      .how-to-steps {
        flex-direction: column;
        gap: 15px;
      }

      .step-arrow {
        transform: rotate(90deg);
        margin: 5px 0;
      }
    }

    .game-section {
      background: white;
      border-radius: 16px;
      padding: 32px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      margin-bottom: 32px;
    }

    .section-title {
      font-family: 'Work Sans', sans-serif;
      font-size: 24px;
      font-weight: 600;
      color: #1f2937;
      margin-bottom: 16px;
    }

    #game-board {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 24px;
    }

    .tile-container {
      display: flex;
      justify-content: center;
      gap: 8px;
    }

    .tile {
      width: 60px;
      height: 60px;
      border: 2px solid #d1d5db;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      font-weight: bold;
      text-transform: uppercase;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .tile.filled {
      border-color: #9ca3af;
    }

    .tile.gray {
      background-color: #6b7280;
      color: white;
      border-color: #6b7280;
    }

    .tile.yellow {
      background-color: #eab308;
      color: white;
      border-color: #eab308;
    }

    .tile.green {
      background-color: #22c55e;
      color: white;
      border-color: #22c55e;
    }

    .tile-container.active .tile {
      border-color: #6366f1;
    }

    .input-section {
      display: flex;
      gap: 12px;
      justify-content: center;
      align-items: center;
      margin-bottom: 24px;
    }

    #guess-input {
      padding: 12px 16px;
      border: 2px solid #d1d5db;
      border-radius: 8px;
      font-size: 18px;
      font-family: 'Work Sans', sans-serif;
      width: 200px;
      text-transform: lowercase;
    }

    #guess-input:focus {
      outline: none;
      border-color: #6366f1;
    }

    .btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: 'Work Sans', sans-serif;
    }

    .btn-primary {
      background-color: #6366f1;
      color: white;
    }

    .btn-primary:hover:not(:disabled) {
      background-color: #5855eb;
      transform: translateY(-1px);
    }

    .btn-primary:disabled {
      background-color: #9ca3af;
      cursor: not-allowed;
    }

    .btn-secondary {
      background-color: #f3f4f6;
      color: #374151;
    }

    .btn-secondary:hover {
      background-color: #e5e7eb;
    }

    .info-section {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 24px;
      margin-bottom: 32px;
    }

    .info-card {
      background: white;
      border-radius: 12px;
      padding: 24px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .info-title {
      font-family: 'Work Sans', sans-serif;
      font-size: 18px;
      font-weight: 600;
      color: #1f2937;
      margin-bottom: 8px;
    }

    .info-value {
      font-family: 'Work Sans', sans-serif;
      font-size: 24px;
      font-weight: 700;
      color: #6366f1;
    }

    .suggestion-box {
      background: linear-gradient(135deg, #6366f1, #8b5cf6);
      color: white;
      padding: 20px;
      border-radius: 12px;
      text-align: center;
      margin-bottom: 24px;
    }

    .suggestion-label {
      font-family: 'Work Sans', sans-serif;
      font-size: 14px;
      opacity: 0.9;
      margin-bottom: 8px;
    }

    .suggestion-word {
      font-family: 'Work Sans', sans-serif;
      font-size: 32px;
      font-weight: 700;
      letter-spacing: 2px;
    }

    .simulation-section {
      background: white;
      border-radius: 16px;
      padding: 32px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }

    .simulation-controls {
      display: flex;
      gap: 12px;
      margin-bottom: 24px;
      flex-wrap: wrap;
    }

    .chart-container {
      background: #f9fafb;
      border-radius: 12px;
      padding: 24px;
      margin-top: 24px;
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: 'Work Sans', sans-serif;
    }

    .suggestion-text {
      font-family: 'Work Sans', sans-serif;
      font-size: 24px;
      font-weight: 600;
      color: #6366f1;
      text-align: center;
      margin: 20px 0;
    }

    .words-remaining {
      font-family: 'Work Sans', sans-serif;
      font-size: 16px;
      color: #666;
      text-align: center;
      margin: 10px 0;
    }

    .stats-text {
      font-family: 'Work Sans', sans-serif;
      font-size: 14px;
      color: #888;
      text-align: center;
      margin: 5px 0;
    }

    button {
      font-family: 'Work Sans', sans-serif;
    }

    input {
      font-family: 'Work Sans', sans-serif;
    }

    /* Responsive adjustments to prevent overlap */
    @media (max-width: 768px) {
      header {
        flex-direction: column;
        gap: 15px;
        padding: 15px 20px;
      }
      
      nav {
        display: none;
      }
      
      .solver-title {
        font-size: 36px;
      }
      
      .tile {
        width: 50px;
        height: 50px;
        font-size: 20px;
      }
      
      .input-section {
        flex-direction: column;
      }
      
      #guess-input {
        width: 100%;
        max-width: 300px;
      }
      
      .simulation-controls {
        flex-direction: column;
      }

      /* Prevent overlap on tablets */
      .fixed-header.centered {
        font-size: 16px;
        padding: 6px 12px;
        top: 15px;
        max-width: 200px;
      }

      .fixed-credit {
        font-size: 14px;
        padding: 6px 12px;
        top: 15px;
        right: 15px;
        max-width: 150px;
      }
    }

    /* Small screens */
    @media (max-width: 600px) {
      .fixed-header.centered {
        font-size: 14px;
        padding: 5px 10px;
        top: 10px;
        max-width: 180px;
      }

      .fixed-credit {
        font-size: 12px;
        padding: 5px 10px;
        top: 10px;
        right: 10px;
        max-width: 120px;
      }
    }

    /* Extra small screens */
    @media (max-width: 480px) {
      .fixed-header.centered {
        font-size: 12px;
        padding: 4px 8px;
        top: 8px;
        max-width: 150px;
      }

      .fixed-credit {
        font-size: 10px;
        padding: 4px 8px;
        top: 8px;
        right: 8px;
        max-width: 100px;
      }

      .nav-toggle {
        top: 8px;
        left: 8px;
        width: 32px;
        height: 32px;
      }

      .nav-toggle span {
        width: 14px;
        height: 1.5px;
      }
    }

    /* Very small screens */
    @media (max-width: 360px) {
      .fixed-header.centered {
        font-size: 11px;
        padding: 3px 6px;
        top: 5px;
        max-width: 130px;
      }

      .fixed-credit {
        font-size: 9px;
        padding: 3px 6px;
        top: 5px;
        right: 5px;
        max-width: 90px;
      }
    }

    .site-title {
      background: rgba(255, 255, 255, 0.9);
      color: #6366f1;
      border-radius: 20px;
      padding: 8px 16px;
      font-size: 18px;
      font-weight: 600;
      font-family: 'Work Sans', sans-serif;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      transition:
        background 0.3s,
        color 0.3s,
        box-shadow 0.3s,
        transform 0.3s,
        letter-spacing 0.3s;
      cursor: pointer;
      display: inline-block;
      line-height: 1.2;
    }

    .site-title:hover,
    .site-title:focus {
      background: linear-gradient(90deg, #6366f1 0%, #ffd700 100%);
      color: #fff !important;
      transform: scale(1.08) rotate(-2deg);
      box-shadow: 0 8px 32px rgba(99,102,241,0.25), 0 2px 8px rgba(0,0,0,0.12);
      letter-spacing: 2px;
      text-shadow: 0 2px 8px rgba(99,102,241,0.15);
      outline: none;
    }

    .fixed-header.centered {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
      text-align: center;
      font-size: 18px;
      font-weight: 700;
      font-family: 'Work Sans', sans-serif;
      background: rgba(255, 255, 255, 0.9);
      color: #6366f1;
      border-radius: 20px;
      padding: 8px 16px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      transition:
        background 0.3s,
        color 0.3s,
        box-shadow 0.3s,
        transform 0.3s,
        letter-spacing 0.3s;
      cursor: pointer;
      display: inline-block;
      line-height: 1.2;
    }

    .fixed-header.centered:hover,
    .fixed-header.centered:focus {
      background: linear-gradient(90deg, #6366f1 0%, #ffd700 100%);
      color: #fff !important;
      transform: translateX(-50%) scale(1.08) rotate(-2deg);
      box-shadow: 0 8px 32px rgba(99,102,241,0.25), 0 2px 8px rgba(0,0,0,0.12);
      letter-spacing: 2px;
      text-shadow: 0 2px 8px rgba(99,102,241,0.15);
      outline: none;
    }

    .fixed-credit {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
    }

    /* Adjust main content to account for fixed header */
    .container {
      padding-top: 80px;
    }

    /* Hamburger Navigation Styles */
    .hamburger-nav {
      position: fixed;
      top: 20px;
      left: 20px;
      z-index: 1001;
    }

    .hamburger-btn {
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.9);
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      gap: 4px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      transition: all 0.3s ease;
    }

    .hamburger-btn:hover {
      background: linear-gradient(90deg, #6366f1 0%, #ffd700 100%);
      transform: scale(1.05);
      box-shadow: 0 4px 16px rgba(99, 102, 241, 0.25);
    }

    .hamburger-btn span {
      width: 20px;
      height: 2px;
      background: #6366f1;
      border-radius: 1px;
      transition: all 0.3s ease;
    }

    .hamburger-btn:hover span {
      background: white;
    }

    .hamburger-btn.active span:nth-child(1) {
      transform: rotate(45deg) translate(5px, 5px);
    }

    .hamburger-btn.active span:nth-child(2) {
      opacity: 0;
    }

    .hamburger-btn.active span:nth-child(3) {
      transform: rotate(-45deg) translate(7px, -6px);
    }

    .nav-menu {
      position: fixed;
      top: 0;
      left: -300px;
      width: 300px;
      height: 100vh;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      box-shadow: 4px 0 20px rgba(0, 0, 0, 0.1);
      transition: left 0.3s ease;
      z-index: 1000;
      padding: 80px 0 20px 0;
      overflow-y: auto;
    }

    .nav-menu.active {
      left: 0;
    }

    .nav-menu-header {
      padding: 0 30px 20px 30px;
      border-bottom: 1px solid rgba(99, 102, 241, 0.1);
      margin-bottom: 20px;
    }

    .nav-menu-title {
      font-size: 24px;
      font-weight: 700;
      color: #6366f1;
      margin-bottom: 8px;
      font-family: 'Work Sans', sans-serif;
    }

    .nav-menu-subtitle {
      font-size: 12px;
      color: #6b7280;
      font-family: 'Work Sans', sans-serif;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .nav-menu-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .nav-menu-item {
      margin: 0;
    }

    .nav-menu-link {
      display: flex;
      align-items: center;
      padding: 16px 30px;
      color: #374151;
      text-decoration: none;
      font-family: 'Work Sans', sans-serif;
      font-weight: 500;
      transition: all 0.3s ease;
      border-left: 3px solid transparent;
    }

    .nav-menu-link:hover {
      background: rgba(99, 102, 241, 0.05);
      color: #6366f1;
      border-left-color: #6366f1;
    }

    .nav-menu-link.active {
      background: rgba(99, 102, 241, 0.1);
      color: #6366f1;
      border-left-color: #6366f1;
      font-weight: 600;
    }

    .nav-menu-icon {
      width: 20px;
      height: 20px;
      margin-right: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .nav-menu-link:hover .nav-menu-icon {
      transform: scale(1.1);
    }

    .nav-menu-text {
      flex: 1;
    }

    .nav-menu-description {
      font-size: 12px;
      color: #9ca3af;
      margin-top: 2px;
      font-weight: 400;
      opacity: 0;
      max-height: 0;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .nav-menu-link:hover .nav-menu-description {
      opacity: 1;
      max-height: 20px;
      margin-top: 4px;
    }

    .nav-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.3);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      z-index: 999;
    }

    .nav-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    /* Adjust main content for hamburger nav */
    .container {
      padding-left: 20px;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      .hamburger-nav {
        top: 15px;
        left: 15px;
      }

      .hamburger-btn {
        width: 36px;
        height: 36px;
      }

      .hamburger-btn span {
        width: 18px;
      }

      .nav-menu {
        width: 280px;
        left: -280px;
      }

      .nav-menu-header {
        padding: 0 25px 15px 25px;
      }

      .nav-menu-link {
        padding: 14px 25px;
      }
    }

    @media (max-width: 480px) {
      .nav-menu {
        width: 260px;
        left: -260px;
      }
    }

    /* Warning Popup Styles */
    .warning-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }

    .warning-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .warning-popup {
      background: white;
      border-radius: 16px;
      padding: 32px;
      max-width: 500px;
      width: 90%;
      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
      transform: scale(0.8);
      transition: transform 0.3s ease;
      text-align: center;
    }

    .warning-overlay.active .warning-popup {
      transform: scale(1);
    }

    .warning-icon {
      font-size: 48px;
      margin-bottom: 16px;
    }

    .warning-title {
      font-size: 24px;
      font-weight: 700;
      color: #dc2626;
      margin-bottom: 16px;
      font-family: 'Work Sans', sans-serif;
    }

    .warning-message {
      font-size: 16px;
      color: #374151;
      line-height: 1.6;
      margin-bottom: 24px;
      font-family: 'Work Sans', sans-serif;
    }

    .warning-buttons {
      display: flex;
      gap: 12px;
      justify-content: center;
      flex-wrap: wrap;
    }

    .warning-btn {
      padding: 12px 24px;
      border: none;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Work Sans', sans-serif;
    }

    .warning-btn.continue {
      background: #dc2626;
      color: white;
    }

    .warning-btn.continue:hover {
      background: #b91c1c;
      transform: translateY(-2px);
    }

    .warning-btn.cancel {
      background: #f3f4f6;
      color: #374151;
    }

    .warning-btn.cancel:hover {
      background: #e5e7eb;
      transform: translateY(-2px);
    }

    /* Standardized boxed title styling for both elements */
    .boxed-title {
      background: rgba(255, 255, 255, 0.9);
      color: #6366f1;
      border-radius: 20px;
      padding: 8px 16px;
      font-size: 18px;
      font-weight: 700;
      font-family: 'Work Sans', sans-serif;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
      transition:
        background 0.3s,
        color 0.3s,
        box-shadow 0.3s,
        transform 0.3s,
        letter-spacing 0.3s;
      cursor: pointer;
      display: inline-block;
      line-height: 1.2;
    }

    .boxed-title:hover,
    .boxed-title:focus {
      background: linear-gradient(90deg, #6366f1 0%, #ffd700 100%);
      color: #fff !important;
      transform: scale(1.08) rotate(-2deg);
      box-shadow: 0 8px 32px rgba(99,102,241,0.25), 0 2px 8px rgba(0,0,0,0.12);
      letter-spacing: 2px;
      text-shadow: 0 2px 8px rgba(99,102,241,0.15);
      outline: none;
    }

    .fixed-header.centered {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 1000;
      text-align: center;
    }

    .fixed-credit {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
    }
  </style>
</head>
<body>
  <header>
    <div class="site-title boxed-title fixed-header centered"><a href="index.html" style="text-decoration: none; color: inherit;"><strong>Wordle Wizard</strong></a></div>
    <div class="credit boxed-title fixed-credit">Made by Ryan Quinn</div>
  </header>

  <!-- Hamburger Navigation -->
  <div class="hamburger-nav">
    <button class="hamburger-btn" onclick="toggleNav()">
      <span></span>
      <span></span>
      <span></span>
    </button>
  </div>

  <!-- Navigation Menu -->
  <div class="nav-menu" id="navMenu">
    <div class="nav-menu-header">
      <div class="nav-menu-title">Wordle Wizard</div>
      <div class="nav-menu-subtitle">Master Wordle with Machine Learning</div>
    </div>
    <ul class="nav-menu-list">
      <li class="nav-menu-item">
        <a href="index.html" class="nav-menu-link">
          <div class="nav-menu-icon">üè†</div>
          <div class="nav-menu-text">
            <div>Home</div>
            <div class="nav-menu-description">Main landing page</div>
          </div>
        </a>
      </li>
      <li class="nav-menu-item">
        <a href="solver.html" class="nav-menu-link active">
          <div class="nav-menu-icon">üß†</div>
          <div class="nav-menu-text">
            <div>Standard Solver</div>
            <div class="nav-menu-description">Fast information theory-based solver</div>
          </div>
        </a>
      </li>
      <li class="nav-menu-item">
        <a href="#" class="nav-menu-link" onclick="showAdvancedSolverWarning(event)">
          <div class="nav-menu-icon">‚ö°</div>
          <div class="nav-menu-text">
            <div>Advanced Solver</div>
            <div class="nav-menu-description">Optimal rollout algorithm solver</div>
          </div>
        </a>
      </li>
      <li class="nav-menu-item">
        <a href="faq.html" class="nav-menu-link">
          <div class="nav-menu-icon">‚ùì</div>
          <div class="nav-menu-text">
            <div>FAQ</div>
            <div class="nav-menu-description">Frequently asked questions</div>
          </div>
        </a>
      </li>
    </ul>
  </div>

  <!-- Navigation Overlay -->
  <div class="nav-overlay" id="navOverlay" onclick="closeNav()"></div>

  <!-- Warning Popup -->
  <div class="warning-overlay" id="warningOverlay">
    <div class="warning-popup">
      <div class="warning-icon">‚ö†Ô∏è</div>
      <div class="warning-title">Performance Warning</div>
      <div class="warning-message">
        The Advanced Solver uses a computationally intensive rollout algorithm with information theory. 
        This may cause your computer to crash, the website to fail to load, or the website to not work properly. It is recommended to use the Standard Solver instead.
        <br><br>
        <strong>Are you sure you want to continue?</strong>
      </div>
      <div class="warning-buttons">
        <button class="warning-btn cancel" onclick="hideAdvancedSolverWarning()">Cancel</button>
        <button class="warning-btn continue" onclick="proceedToAdvancedSolver()">Continue Anyway</button>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="solver-header">
      <h1 class="solver-title">Wordle Solver</h1>
      <div class="how-to-use">
        <h3 class="how-to-title">How to Use</h3>
        <div class="how-to-steps">
          <div class="step">
            <button class="open-wordle-btn" onclick="openWordleUnlimited()">Open Now</button>
            <div class="step-text">open Wordle</div>
          </div>
          <div class="step-arrow">‚Üí</div>
          <div class="step">
            <div class="step-icon">üìù</div>
            <div class="step-text">enter suggested next <br> word into Wordle</div>
          </div>
          <div class="step-arrow">‚Üí</div>
          <div class="step">
            <div class="step-icon">üé®</div>
            <div class="step-text">click tile color on this solver <br> to reflect Wordle's output</div>
          </div>
          <div class="step-arrow">‚Üí</div>
          <div class="step">
            <div class="step-icon">üß†</div>
            <div class="step-text">Get machine learning powered <br> suggestions for next word</div>
          </div>
        </div>
      </div>
    </div>

    <div class="suggestion-box">
      <div class="suggestion-label">Suggested Next Word</div>
      <div id="suggestion-text" class="suggestion-word">RAISE</div>
    </div>

    <div class="game-section">
      <h2 class="section-title">Game Board</h2>
      <div id="game-board"></div>
      
      <div class="input-section">
        <input type="text" id="guess-input" placeholder="Enter 5-letter word" maxlength="5">
        <button id="submit-button" class="btn btn-primary">Enter</button>
        <button id="reset-button" class="btn btn-secondary">Reset Game</button>
      </div>
    </div>

    <div class="info-section">
      <div class="info-card">
        <div class="info-title">Words Remaining</div>
        <div id="words-remaining" class="info-value">2309</div>
      </div>
    </div>

    <div class="simulation-section">
      <h2 class="section-title">Simulation Tools</h2>
      <p style="color: #6b7280; margin-bottom: 24px;">Test the solver's performance with random words</p>
      
      <div class="simulation-controls">
        <button id="run-1-sim" class="btn btn-primary">Run 1 Simulation</button>
        <button id="run-10-sim" class="btn btn-primary">Run 10 Simulations</button>
      </div>
      
      <div id="last-sim-result" style="color: #6b7280; font-style: italic; margin-bottom: 16px;">
        Click a simulation button to see results
      </div>
      
      <div style="display: flex; gap: 20px; margin-bottom: 16px; align-items: center;">
        <div style="background: #f3f4f6; padding: 12px 16px; border-radius: 8px; min-width: 120px;">
          <div style="font-size: 12px; color: #6b7280; margin-bottom: 4px;">Games Played</div>
          <div id="games-played" style="font-size: 18px; font-weight: bold; color: #1f2937;">0</div>
        </div>
        <div style="background: #f3f4f6; padding: 12px 16px; border-radius: 8px; min-width: 120px;">
          <div style="font-size: 12px; color: #6b7280; margin-bottom: 4px;">Average Guesses</div>
          <div id="average-guesses" style="font-size: 18px; font-weight: bold; color: #1f2937;">-</div>
        </div>
        <div style="background: #f3f4f6; padding: 12px 16px; border-radius: 8px; min-width: 120px;">
          <div style="font-size: 12px; color: #6b7280; margin-bottom: 4px;">Success Rate</div>
          <div id="success-rate" style="font-size: 18px; font-weight: bold; color: #1f2937;">-</div>
        </div>
      </div>
      
      <div class="chart-container">
        <canvas id="simulation-chart" width="400" height="200"></canvas>
      </div>
    </div>
  </div>

  <script>
    // Word List (embedded directly)
    const WORD_LIST = [
      "aback","abase","abate","abbey","abbot","abhor","abide","abled","abode","abort","about","above","abuse","abyss","acorn","acrid","actor","acute","adage","adapt","adept","admin","admit","adobe","adopt","adore","adorn","adult","affix","afire","afoot","afoul","after","again","agape","agate","agent","agile","aging","aglow","agony","agora","agree","ahead","aider","aisle","alarm","album","alert","algae","alibi","alien","align","alike","alive","allay","alley","allot","allow","alloy","aloft","alone","along","aloof","aloud","alpha","altar","alter","amass","amaze","amber","amble","amend","amiss","amity","among","ample","amply","amuse","angel","anger","angle","angry","angst","anime","ankle","annex","annoy","annul","anode","antic","anvil","aorta","apart","aphid","aping","apnea","apple","apply","apron","aptly","arbor","ardor","arena","argue","arise","armor","aroma","arose","array","arrow","arson","artsy","ascot","ashen","aside","askew","assay","asset","atoll","atone","attic","audio","audit","augur","aunty","avail","avert","avian","avoid","await","awake","award","aware","awash","awful","awoke","axial","axiom","axion","azure","bacon","badge","badly","bagel","baggy","baker","baler","balmy","banal","banjo","barge","baron","basal","basic","basil","basin","basis","baste","batch","bathe","baton","batty","bawdy","bayou","beach","beady","beard","beast","beech","beefy","befit","began","begat","beget","begin","begun","being","belch","belie","belle","belly","below","bench","beret","berry","berth","beset","betel","bevel","bezel","bible","bicep","biddy","bigot","bilge","billy","binge","bingo","biome","birch","birth","bison","bitty","black","blade","blame","bland","blank","blare","blast","blaze","bleak","bleat","bleed","bleep","blend","bless","blimp","blind","blink","bliss","blitz","bloat","block","bloke","blond","blood","bloom","blown","bluer","bluff","blunt","blurb","blurt","blush","board","boast","bobby","boney","bongo","bonus","booby","boost","booth","booty","booze","boozy","borax","borne","bosom","bossy","botch","bough","boule","bound","bowel","boxer","brace","braid","brain","brake","brand","brash","brass","brave","bravo","brawl","brawn","bread","break","breed","briar","bribe","brick","bride","brief","brine","bring","brink","briny","brisk","broad","broil","broke","brood","brook","broom","broth","brown","brunt","brush","brute","buddy","budge","buggy","bugle","build","built","bulge","bulky","bully","bunch","bunny","burly","burnt","burst","bused","bushy","butch","butte","buxom","buyer","bylaw","cabal","cabby","cabin","cable","cacao","cache","cacti","caddy","cadet","cagey","cairn","camel","cameo","canal","candy","canny","canoe","canon","caper","caput","carat","cargo","carol","carry","carve","caste","catch","cater","catty","caulk","cause","cavil","cease","cedar","cello","chafe","chaff","chain","chair","chalk","champ","chant","chaos","chard","charm","chart","chase","chasm","cheap","cheat","check","cheek","cheer","chess","chest","chick","chide","chief","child","chili","chill","chime","china","chirp","chock","choir","choke","chord","chore","chose","chuck","chump","chunk","churn","chute","cider","cigar","cinch","circa","civic","civil","clack","claim","clamp","clang","clank","clash","clasp","class","clean","clear","cleat","cleft","clerk","click","cliff","climb","cling","clink","cloak","clock","clone","close","cloth","cloud","clout","clove","clown","cluck","clued","clump","clung","coach","coast","cobra","cocoa","colon","color","comet","comfy","comic","comma","conch","condo","conic","copse","coral","corer","corny","couch","cough","could","count","coupe","court","coven","cover","covet","covey","cower","coyly","crack","craft","cramp","crane","crank","crash","crass","crate","crave","crawl","craze","crazy","creak","cream","credo","creed","creek","creep","creme","crepe","crept","cress","crest","crook","cross","croup","crowd","crown","crude","cruel","crumb","crump","crush","crust","crypt","cubic","cumin","curio","curly","curry","curse","curve","curvy","cutie","cyber","cycle","cynic","daddy","daily","dairy","daisy","dally","dance","dandy","datum","daunt","dealt","death","debar","debit","debug","debut","decal","decay","decor","decoy","decry","defer","deign","deity","delay","delta","delve","demon","demur","denim","dense","depot","depth","derby","deter","detox","deuce","devil","diary","dicey","digit","dilly","dimly","diner","dingo","dingy","diode","dirge","dirty","disco","ditch","ditto","ditty","diver","dizzy","dodge","dodgy","dogma","doing","dolly","donor","donut","dopey","doubt","dough","dowdy","dowel","downy","dowry","dozen","draft","drain","drake","drama","drank","drape","drawl","drawn","dread","dream","dress","dried","drier","drift","drill","drink","drive","droit","droll","drone","drool","droop","dross","drove","drown","druid","drunk","dryer","dryly","duchy","dully","dummy","dumpy","dunce","dusky","dusty","dutch","duvet","dwarf","dwell","dwelt","dying","eager","eagle","early","earth","easel","eaten","eater","ebony","eclat","edict","edify","eerie","egret","eight","eject","eking","elate","elbow","elder","elect","evade","evoke","exact","exalt","excel","exert","exile","exist","expel","extol","extra","exult","eying","fable","facet","faint","fairy","faith","false","fancy","fanny","farce","fatal","fatty","fault","feign","feint","fella","felon","femme","femur","fence","feral","ferry","fetal","fetch","feud","fever","fewer","fey","fibre","ficus","field","fiend","fiery","fifth","fifty","fight","filly","final","finch","finer","first","fishy","fixer","fizzy","flair","flaky","flash","fleck","fleet","flesh","flick","flier","flint","flirt","float","flock","flood","floor","flour","flout","flown","fluff","fluid","flyer","foamy","focal","foist","folly","foray","force","forge","forgo","form","forte","forth","forty","forum","found","foyer","frail","frame","frank","fraud","freak","freed","freer","fresh","friar","fried","fright","frill","frock","frond","front","frost","froth","frown","fruity","frump","fry","fugue","full","fumed","funny","furry","fussy","fuzzy","gabby","gaffe","gaily","gamer","gamy","gape","garb","gash","gasp","gaudy","gawky","gayer","gayly","gazer","geck","ged","geeky","gel","geld","gem","genie","ghast","ghost","ghoul","giant","gibed","gible","giddy","gifts","gills","gimpy","girly","girth","glade","glare","glass","glint","globe","gloom","glory","gloss","glove","glow","glue","gnarl","gnome","gnats","gnaw","goads","goo","gooey","goof","gore","gorse","gouge","gourd","grape","grapy","gravy","grebe","greed","greek","green","grey","grill","grim","grind","gripe","groan","groin","groom","groove","grope","gross","grouch","group","grove","growl","grub","grump","guano","guava","gulch","gules","gull","gully","guppy","gusto","gusty","gyoza","gyoza","habit","hairy","haiti","haler","hale","half","hallo","halo","ham","handy","happy","hardy","harem","harpy","haste","hatch","hater","haute","hazel","heady","heard","heart","heavy","hedge","hefty","heigh","heirs","helix","hello","henna","heron","hick","hid","hide","high","hike","hill","hilly","hint","hippo","hippy","hired","hiss","hoard","hoax","hobby","hock","hodge","hoed","hoes","hogan","hoist","hokum","holly","homer","honey","hone","honk","hood","hoof","hook","hoop","hoppy","horde","hose","hosty","hotly","hound","hour","howdy","hubby","huffy","huger","hullo","humid","humor","humph","hunch","hunky","hurry","hush","husky","hutch","hydra","hydro","hyena","hymen","hyper","icily","icing","icon","icy","idea","idler","igloo","image","imbue","impel","imply","inane","inbox","incur","index","indie","inept","inert","infix","ingot","inked","inlay","inset","insip","intel","inter","intro","inure","iodic","ionic","irate","irene","irony","islet","issue","itchy","ivory","jabot","jack","jaded","jadeo","jaded","jager","jaguar","jail","jalap","jaleo","jambi","jambs","jammy","janes","japes","jarls","jason","jaunt","jazzy","jeans","jeats","jebel","jedis","jeers","jello","jelly","jenny","jerky","jests","jests","jetes","jewel","jibed","jibes","jiffy","jills","jimmy","jinks","jived","jives","jivey","joker","jokes","jolly","jolts","jones","jotas","joule","joust","jowls","joyed","joyer","judas","judos","jules","jumbo","jumpy","junks","junta","junto","juror","kabul","kanga","kansa","kansa","kanzu","kapok","kaput","karat","karma","kayak","kazoo","kebab","kebob","kedge","kelpy","kenaf","kendo","kerry","ketch","keyed","kicky","kilos","kilts","kinda","kinds","kilos","kinky","kiosk","kited","kites","kitty","kiwis","kneed","knead","knell","knelt","knees","knew","koala","kooky","kraft","kraut","kudos","kudzu","labia","label","labia","labor","laced","lacey","lacks","laded","laden","lader","ladle","laity","lakes","lamas","lamps","lance","lands","lapel","larch","large","larva","laser","lasso","last","latch","later","lathe","latte","laugh","laura","lawns","laxly","layer","leach","leads","leafy","leaky","learn","leash","least","leave","ledge","leeds","lefty","legal","leggy","legit","lemon","lemur","lends","lens","lent","leone","leper","let's","level","lever","liana","libel","libra","lice","lifer","light","liked","liken","lilac","lilly","limbo","limbs","limes","limit","lined","linen","liner","lingo","links","lions","lipid","lippy","lithe","llama","llano","lobby","local","loden","lofty","logan","logic","login","logos","loins","loner","long","looky","loopy","loose","lorry","loser","loss","lotus","lough","louis","loved","lover","lowly","loyal","lucid","lucky","lumen","lumpy","lunar","lunch","lunge","lupus","lurch","lusty","lycra","lyman","lymph","lynch","lyons","lyric","macaw","macho","macro","madam","madly","mafia","magic","magma","magna","magus","mahua","maile","major","maker","malar","males","malic","malls","malt","mama","mane","mania","manly","manna","manor","maple","march","mares","maria","mark","marsh","mart","maser","mash","mask","mass","mast","match","matte","mauve","maxim","maybe","mayor","mazed","mazer","mazes","meals","mealy","meant","meats","medal","media","medic","melee","melon","memo","mensa","mercy","merge","merit","mesa","mete","meter","metro","micro","midge","midst","might","milky","miler","miles","milit","mimed","mimer","mimes","miner","mingy","minor","mints","minus","mired","mirth","mist","miter","mites","mitts","mixed","moans","moats","mobil","modal","modem","moire","molar","molds","molts","mommy","monad","money","monks","month","moody","moons","moors","moral","moron","mossy","motel","motif","motor","motto","mould","moust","mouth","movie","mower","mozes","munch","muons","mural","murky","musky","musty","myths","nadir","nanny","nasal","nasty","natal","naval","navel","needy","nerdy","nerve","never","newer","newly","nicer","niche","niece","night","ninja","ninny","ninth","noble","nobly","noise","noisy","nomad","noose","north","nosey","notch","novel","nudge","nurse","nutty","nylon","oaken","obese","occur","ocean","octal","octet","odder","oddly","offal","offer","often","olden","older","olive","ombre","omega","onion","onset","opera","opine","opium","optic","orbit","order","organ","other","otter","ought","ounce","outdo","outer","outgo","ovary","ovate","overt","ovine","ovoid","owing","owner","oxide","ozone","paddy","pagan","paint","paler","palsy","panel","panic","pansy","papal","paper","parer","parka","parry","parse","party","pasta","paste","pasty","patch","patio","patsy","patty","pause","payee","payer","peace","peach","pearl","pecan","pedal","penal","pence","penne","penny","perch","peril","perky","pesky","pesto","petal","petty","phase","phone","phony","photo","piano","picky","piece","piety","piggy","pilot","pinch","piney","pinky","pinto","piper","pique","pitch","pithy","pivot","pixel","pixie","pizza","place","plaid","plain","plait","plane","plank","plant","plate","plaza","plead","pleat","plied","plier","pluck","plumb","plume","plump","plunk","plush","poesy","point","poise","poker","polar","polka","polyp","pooch","poppy","porch","poser","posit","posse","pouch","pound","pouty","power","prank","prawn","preen","press","price","prick","pride","pried","prime","primo","print","prior","prism","privy","prize","probe","prone","prong","proof","prose","proud","prove","prowl","proxy","prude","prune","psalm","pubic","pudgy","puffy","pulpy","pulse","punch","pupal","pupil","puppy","puree","purer","purge","purse","pushy","putty","pygmy","quack","quail","quake","qualm","quark","quart","quash","quasi","queen","queer","quell","query","quest","queue","quick","quiet","quill","quilt","quirk","quite","quota","quote","quoth","rabbi","rabid","racer","radar","radii","radio","rainy","raise","rajah","rally","ralph","ramen","ranch","randy","range","rapid","rarer","raspy","ratio","ratty","raven","rayon","razor","reach","react","ready","realm","rearm","rebar","rebel","rebus","rebut","recap","recur","recut","reedy","refer","refit","regal","rehab","reign","relax","relay","relic","remit","renal","renew","repay","repel","reply","rerun","reset","resin","retch","retro","retry","reuse","revel","revue","rhino","rhyme","rider","ridge","rifle","right","rigid","rigor","rinse","ripen","riper","risen","riser","risky","rival","river","rivet","roach","roast","robin","robot","rocky","rodeo","roger","rogue","roomy","roost","rotor","rouge","rough","round","rouse","route","rover","rowdy","rower","royal","ruddy","ruder","rugby","ruler","rumba","rumor","rupee","rural","rusty","sadly","safer","saint","salad","sally","salon","salsa","salty","salve","salvo","sandy","saner","sappy","sassy","satin","satyr","sauce","saucy","sauna","saute","savor","savoy","savvy","scald","scale","scalp","scaly","scamp","scant","scare","scarf","scary","scene","scent","scion","scoff","scold","scone","scoop","scope","score","scorn","scour","scout","scowl","scram","scrap","scree","screw","scrub","scrum","scuba","sedan","seedy","segue","seize","semen","sense","sepia","serif","serum","serve","setup","seven","sever","sewer","shack","shade","shady","shaft","shake","shaky","shale","shall","shalt","shame","shank","shape","shard","share","shark","sharp","shave","shawl","shear","sheen","sheep","sheer","sheet","sheik","shelf","shell","shied","shift","shine","shiny","shire","shirk","shirt","shoal","shock","shone","shook","shoot","shore","shorn","short","shout","shove","shown","showy","shrew","shrub","shrug","shuck","shunt","shush","shyly","siege","sieve","sight","sigma","silky","silly","since","sinew","singe","siren","sissy","sixth","sixty","skate","skier","skiff","skill","skimp","skirt","skulk","skull","skunk","slack","slain","slang","slant","slash","slate","slave","sleek","sleep","sleet","slept","slice","slick","slide","slime","slimy","sling","slink","sloop","slope","slosh","sloth","slump","slung","slunk","slurp","slush","slyly","smack","small","smart","smash","smear","smell","smelt","smile","smirk","smite","smith","smock","smoke","smoky","smote","snack","snail","snake","snaky","snare","snarl","sneak","sneer","snide","sniff","snipe","snoop","snore","snort","snout","snowy","snuck","snuff","soapy","sober","soggy","solar","solid","solve","sonar","sonic","sooth","sooty","sorry","sound","south","sower","space","spade","spank","spare","spark","spasm","spawn","speak","spear","speck","speed","spell","spelt","spend","spent","sperm","spice","spicy","spied","spiel","spike","spiky","spill","spilt","spine","spiny","spire","spite","splat","split","spoil","spoke","spoof","spook","spool","spoon","spore","sport","spout","spray","spree","sprig","spunk","spurn","spurt","squad","squat","squib","stack","staff","stage","staid","stain","stair","stake","stale","stalk","stall","stamp","stand","stank","stare","stark","start","stash","state","stave","stead","steak","steal","steam","steed","steel","steep","steer","stein","stern","stick","stiff","still","stilt","sting","stink","stint","stock","stoic","stoke","stole","stomp","stone","stony","stood","stool","stoop","store","stork","storm","story","stout","stove","strap","straw","stray","strip","strut","stuck","study","stuff","stump","stung","stunk","stunt","style","suave","sugar","suing","suite","sulky","sully","sumac","sunny","super","surer","surge","surly","sushi","swami","swamp","swarm","swash","swath","swear","sweat","sweep","sweet","swell","swept","swift","swill","swine","swing","swirl","swish","swoon","swoop","sword","swore","sworn","swung","synod","syrup","tabby","table","taboo","tacit","tacky","taffy","taint","taken","taker","tally","talon","tamer","tango","tangy","taper","tapir","tardy","tarot","taste","tasty","tatty","taunt","tawny","teach","teary","tease","teddy","teeth","tempo","tenet","tenor","tense","tenth","tepee","tepid","terra","terse","testy","thank","theft","their","theme","there","these","theta","thick","thief","thigh","thing","think","third","thong","thorn","those","three","threw","throb","throw","thrum","thumb","thump","thyme","tiara","tibia","tidal","tiger","tight","tilde","timer","timid","tipsy","titan","tithe","title","toast","today","toddy","token","tonal","tonga","tonic","tooth","topaz","topic","torch","torso","torus","total","totem","touch","tough","towel","tower","toxic","tout","tracy","track","trade","trail","train","trait","tramp","trash","tray","treat","trend","triad","trial","tribe","trice","trick","tried","tripe","trite","troll","troop","trope","trout","trove","truce","trump","trunk","truss","trust","truth","tryst","tubal","tuber","tulip","tulle","tumor","tunic","turbo","tutor","twang","tweak","tweed","tweet","twice","twine","twirl","twist","twixt","tying","udder","ulcer","ultra","umbra","uncle","uncut","under","undid","undue","unfed","unfit","unify","union","unite","unity","unlit","unmet","unset","untie","until","unwed","unzip","upper","upset","urban","urine","usage","usher","using","usual","usurp","utile","utter","vague","valet","valid","valor","value","valve","vapid","vapor","vault","vaunt","vegan","venom","venue","verge","verse","verso","verve","vicar","video","vigil","vigor","villa","vinyl","viola","viper","viral","virus","visit","visor","vista","vital","vivid","vixen","vocal","vodka","vogue","voice","voila","vomit","voter","vouch","vowel","vying","wacky","wafer","wager","wagon","waist","waive","waltz","warty","waste","watch","water","waver","waxen","weary","weave","wedge","weedy","weigh","weird","welch","welsh","wench","whack","whale","wharf","wheat","wheel","whelp","where","which","whiff","while","whine","whiny","whirl","whisk","white","whole","whoop","whose","widen","wider","widow","width","wield","wight","willy","wimpy","wince","winch","windy","wiser","wispy","witch","witty","woken","woman","women","woody","wooer","wooly","woozy","wordy","world","worry","worse","worst","worth","would","wound","woven","wrack","wrath","wreak","wreck","wrest","wring","wrist","write","wrong","wrote","wrung","wryly","yacht","yearn","yeast","yield","young","youth","zebra","zesty","zonal"
    ];

    // Advanced Wordle Solver with Information Theory
    class WordleSolver {
      constructor() {
        this.possibleWords = [...WORD_LIST];
        this.gameState = {
          guesses: [],
          feedback: [],
          currentRow: 0
        };
        this.letterFrequencies = this.calculateLetterFrequencies();
        this.positionalFrequencies = this.calculatePositionalFrequencies();
        this.optimalStarters = ['roate', 'raise', 'soare', 'arise', 'irate', 'orate', 'stare', 'crane', 'slate'];
      }

      calculateLetterFrequencies() {
        const frequencies = {};
        for (let i = 97; i <= 122; i++) {
          frequencies[String.fromCharCode(i)] = 0;
        }
        
        this.possibleWords.forEach(word => {
          for (let char of word) {
            frequencies[char]++;
          }
        });
        
        return frequencies;
      }

      calculatePositionalFrequencies() {
        const positional = Array(5).fill().map(() => ({}));
        
        // Initialize all letters to 0 for each position
        for (let pos = 0; pos < 5; pos++) {
          for (let i = 97; i <= 122; i++) {
            positional[pos][String.fromCharCode(i)] = 0;
          }
        }
        
        // Count letters at each position
        this.possibleWords.forEach(word => {
          for (let pos = 0; pos < 5; pos++) {
            const letter = word[pos];
            positional[pos][letter]++;
          }
        });
        
        return positional;
      }

      getBestStartingWord() {
        // Use optimal starting words in order of preference
        for (let word of this.optimalStarters) {
          if (this.possibleWords.includes(word)) {
            return word;
          }
        }
        
        // Fallback to highest scoring word
        return this.getHighestScoringWord(this.possibleWords);
      }

      getBestNextWord() {
        if (this.possibleWords.length === 0) return null;
        if (this.possibleWords.length === 1) return this.possibleWords[0];
        if (this.gameState.guesses.length === 0) return this.getBestStartingWord();
        
        // If we have very few words left, prioritize actual answers
        if (this.possibleWords.length <= 3) {
          return this.possibleWords[0];
        }
        
        // Use information theory to find the best guess
        return this.getOptimalGuess();
      }

      getOptimalGuess() {
        let bestWord = null;
        let bestScore = -Infinity;
        
        // Consider all possible words as potential guesses
        const allWords = [...WORD_LIST];
        
        for (let guess of allWords) {
          const score = this.calculateWordScore(guess);
          if (score > bestScore) {
            bestScore = score;
            bestWord = guess;
          }
        }
        
        return bestWord;
      }

      calculateWordScore(word) {
        // Information theory score
        const infoScore = this.calculateInformationGain(word);
        
        // Positional letter score
        const posScore = this.calculatePositionalScore(word);
        
        // Letter frequency score
        const freqScore = this.calculateFrequencyScore(word);
        
        // Weight the scores (information theory is most important)
        return infoScore * 0.6 + posScore * 0.25 + freqScore * 0.15;
      }

      calculateInformationGain(guess) {
        const partitions = {};
        let totalWords = this.possibleWords.length;
        
        // Simulate all possible feedback patterns
        for (let target of this.possibleWords) {
          const feedback = this.generateFeedback(guess, target);
          const key = feedback.join(',');
          partitions[key] = (partitions[key] || 0) + 1;
        }
        
        // Calculate entropy reduction
        let entropy = 0;
        for (let pattern in partitions) {
          const probability = partitions[pattern] / totalWords;
          if (probability > 0) {
            entropy -= probability * Math.log2(probability);
          }
        }
        
        return entropy;
      }

      calculatePositionalScore(word) {
        let score = 0;
        for (let pos = 0; pos < 5; pos++) {
          const letter = word[pos];
          const frequency = this.positionalFrequencies[pos][letter] || 0;
          score += frequency;
        }
        return score;
      }

      calculateFrequencyScore(word) {
        let score = 0;
        const usedLetters = new Set();
        
        for (let char of word) {
          if (!usedLetters.has(char)) {
            score += this.letterFrequencies[char] || 0;
            usedLetters.add(char);
          }
        }
        
        return score;
      }

      getHighestScoringWord(words) {
        let bestWord = words[0];
        let bestScore = -Infinity;
        
        for (let word of words) {
          const score = this.calculatePositionalScore(word) + this.calculateFrequencyScore(word);
          if (score > bestScore) {
            bestScore = score;
            bestWord = word;
          }
        }
        
        return bestWord;
      }

      generateFeedback(guess, target) {
        const feedback = ['gray', 'gray', 'gray', 'gray', 'gray'];
        const targetLetters = target.split('');
        const guessLetters = guess.split('');
        
        // First pass: mark greens
        for (let i = 0; i < 5; i++) {
          if (guessLetters[i] === targetLetters[i]) {
            feedback[i] = 'green';
            targetLetters[i] = null;
          }
        }
        
        // Second pass: mark yellows
        for (let i = 0; i < 5; i++) {
          if (feedback[i] !== 'green') {
            const letterIndex = targetLetters.indexOf(guessLetters[i]);
            if (letterIndex !== -1) {
              feedback[i] = 'yellow';
              targetLetters[letterIndex] = null;
            }
          }
        }
        
        return feedback;
      }

      processFeedback(guess, feedback) {
        this.gameState.guesses.push(guess);
        this.gameState.feedback.push([...feedback]);
        this.gameState.currentRow++;
        
        this.possibleWords = this.possibleWords.filter(word => {
          return this.isWordCompatible(word, guess, feedback);
        });
        
        this.letterFrequencies = this.calculateLetterFrequencies();
        this.positionalFrequencies = this.calculatePositionalFrequencies();
      }

      isWordCompatible(word, guess, feedback) {
        const wordLetters = word.split('');
        const guessLetters = guess.split('');
        
        // Check greens first
        for (let i = 0; i < 5; i++) {
          if (feedback[i] === 'green' && wordLetters[i] !== guessLetters[i]) {
            return false;
          }
        }
        
        // Count letters in the word
        const wordLetterCounts = {};
        for (let i = 0; i < 5; i++) {
          wordLetterCounts[wordLetters[i]] = (wordLetterCounts[wordLetters[i]] || 0) + 1;
        }
        
        // Count letters in the guess
        const guessLetterCounts = {};
        for (let i = 0; i < 5; i++) {
          guessLetterCounts[guessLetters[i]] = (guessLetterCounts[guessLetters[i]] || 0) + 1;
        }
        
        // Check yellows and grays
        for (let i = 0; i < 5; i++) {
          const guessLetter = guessLetters[i];
          
          if (feedback[i] === 'yellow') {
            // Letter must be in word but not at this position
            if (wordLetters[i] === guessLetter) {
              return false;
            }
            if (!wordLetterCounts[guessLetter]) {
              return false;
            }
          } else if (feedback[i] === 'gray') {
            // Count how many of this letter we need based on greens and yellows
            let neededCount = 0;
            for (let j = 0; j < 5; j++) {
              if (guessLetters[j] === guessLetter && (feedback[j] === 'green' || feedback[j] === 'yellow')) {
                neededCount++;
              }
            }
            
            // If we have more of this letter in the word than needed, it's invalid
            if (wordLetterCounts[guessLetter] > neededCount) {
              return false;
            }
          }
        }
        
        return true;
      }

      reset() {
        this.possibleWords = [...WORD_LIST];
        this.gameState = {
          guesses: [],
          feedback: [],
          currentRow: 0
        };
        this.letterFrequencies = this.calculateLetterFrequencies();
        this.positionalFrequencies = this.calculatePositionalFrequencies();
      }

      getStats() {
        return {
          possibleWords: this.possibleWords.length,
          totalWords: WORD_LIST.length
        };
      }
    }

    // Global solver instance
    let solver = new WordleSolver();

    // Initialize the game board
    function initializeGameBoard() {
      console.log('Initializing game board...');
      const gameBoard = document.getElementById('game-board');
      if (!gameBoard) {
        console.error('Game board element not found!');
        return;
      }
      
      gameBoard.innerHTML = '';
      
      for (let row = 0; row < 6; row++) {
        const rowDiv = document.createElement('div');
        rowDiv.className = 'tile-container';
        rowDiv.id = `row-${row}`;
        
        for (let col = 0; col < 5; col++) {
          const tile = document.createElement('div');
          tile.className = 'tile';
          tile.id = `tile-${row}-${col}`;
          tile.dataset.row = row;
          tile.dataset.col = col;
          
          tile.addEventListener('click', function() {
            cycleTileColor(this);
          });
          
          rowDiv.appendChild(tile);
        }
        
        gameBoard.appendChild(rowDiv);
      }
      console.log('Game board initialized successfully');
    }

    // Cycle through tile colors
    function cycleTileColor(tile) {
      console.log('Cycling tile color:', tile.id);
      const colors = ['gray', 'yellow', 'green'];
      const currentColor = tile.className.includes('gray') ? 'gray' : 
                          tile.className.includes('yellow') ? 'yellow' : 
                          tile.className.includes('green') ? 'green' : 'gray';
      
      tile.classList.remove('gray', 'yellow', 'green');
      
      const currentIndex = colors.indexOf(currentColor);
      const nextIndex = (currentIndex + 1) % colors.length;
      tile.classList.add(colors[nextIndex]);
      
      updateSuggestion();
    }

    // Update the suggestion
    function updateSuggestion() {
      console.log('Updating suggestion...');
      const suggestionText = document.getElementById('suggestion-text');
      const wordsRemaining = document.getElementById('words-remaining');
      
      if (!suggestionText || !wordsRemaining) {
        console.error('Suggestion elements not found!');
        return;
      }
      
      solver.reset();
      
      for (let row = 0; row < 6; row++) {
        const rowDiv = document.getElementById(`row-${row}`);
        if (!rowDiv) continue;
        
        const tiles = rowDiv.querySelectorAll('.tile');
        let word = '';
        let feedback = [];
        let isComplete = true;
        
        for (let col = 0; col < 5; col++) {
          const tile = tiles[col];
          const letter = tile.textContent.toLowerCase();
          
          if (!letter) {
            isComplete = false;
            break;
          }
          
          word += letter;
          
          let color = 'gray';
          if (tile.classList.contains('yellow')) color = 'yellow';
          else if (tile.classList.contains('green')) color = 'green';
          
          feedback.push(color);
        }
        
        // Only process row if at least one tile is yellow or green
        const hasFeedback = Array.from(tiles).some(tile => tile.classList.contains('yellow') || tile.classList.contains('green'));
        if (isComplete && word.length === 5 && hasFeedback) {
          console.log('Processing word:', word, 'with feedback:', feedback);
          solver.processFeedback(word, feedback);
        }
      }
      
             const bestWord = solver.getBestNextWord();
       const stats = solver.getStats();
       
       if (bestWord) {
         if (stats.possibleWords === 1) {
           // Congratulations! We found the word!
           suggestionText.textContent = 'üéâ ' + bestWord.toUpperCase() + ' üéâ';
           suggestionText.style.color = '#22c55e'; // Green color
           suggestionText.style.fontWeight = 'bold';
           console.log('üéâ CONGRATULATIONS! The word is:', bestWord);
         } else {
           suggestionText.textContent = bestWord.toUpperCase();
           suggestionText.style.color = ''; // Reset to default
           suggestionText.style.fontWeight = '';
           console.log('Best word:', bestWord);
         }
       } else {
         suggestionText.textContent = 'NO WORDS LEFT';
         suggestionText.style.color = ''; // Reset to default
         suggestionText.style.fontWeight = '';
         console.log('No words left');
       }
       
       wordsRemaining.textContent = stats.possibleWords;
       console.log('Words remaining:', stats.possibleWords);
       
       // Debug: show possible words when there are few remaining
       if (stats.possibleWords > 0 && stats.possibleWords <= 10) {
         console.log('Possible words:', solver.possibleWords);
       }

       // Check for a fully green row and show congrats popup
       for (let row = 0; row < 6; row++) {
         const rowDiv = document.getElementById(`row-${row}`);
         if (!rowDiv) continue;
         const tiles = rowDiv.querySelectorAll('.tile');
         // Only check filled rows
         if (Array.from(tiles).every(tile => tile.textContent)) {
           if (Array.from(tiles).every(tile => tile.classList.contains('green'))) {
             if (!window._congratsShown) {
               window._congratsShown = true;
               alert('üéâ Congratulations! You solved it! üéâ');
             }
           }
         }
       }
    }

    // Handle word input
    function handleWordInput() {
      console.log('Setting up word input handlers...');
      const input = document.getElementById('guess-input');
      const submitButton = document.getElementById('submit-button');
      
      if (!input || !submitButton) {
        console.error('Input elements not found!');
        return;
      }
      
      input.addEventListener('input', function() {
        this.value = this.value.toLowerCase().replace(/[^a-z]/g, '');
        if (this.value.length === 5) {
          submitButton.disabled = false;
        } else {
          submitButton.disabled = true;
        }
      });
      
      input.addEventListener('keypress', function(e) {
        if (e.key === 'Enter' && this.value.length === 5) {
          submitWord();
        }
      });
      
      submitButton.addEventListener('click', submitWord);
      console.log('Word input handlers set up successfully');
    }

    // Submit a word to the board
    function submitWord() {
      console.log('Submitting word...');
      const input = document.getElementById('guess-input');
      const word = input.value.toLowerCase();
      
      if (word.length !== 5 || !WORD_LIST.includes(word)) {
        alert('Please enter a valid 5-letter word!');
        return;
      }
      
      let targetRow = -1;
      for (let row = 0; row < 6; row++) {
        const rowDiv = document.getElementById(`row-${row}`);
        if (!rowDiv) continue;
        
        const tiles = rowDiv.querySelectorAll('.tile');
        let isEmpty = true;
        
        for (let col = 0; col < 5; col++) {
          if (tiles[col].textContent) {
            isEmpty = false;
            break;
          }
        }
        
        if (isEmpty) {
          targetRow = row;
          break;
        }
      }
      
      if (targetRow === -1) {
        alert('Board is full!');
        return;
      }
      
      const rowDiv = document.getElementById(`row-${targetRow}`);
      const tiles = rowDiv.querySelectorAll('.tile');
      
             for (let col = 0; col < 5; col++) {
         tiles[col].textContent = word[col].toUpperCase();
         tiles[col].classList.add('filled', 'gray');
       }

      input.value = '';
      document.getElementById('submit-button').disabled = true;
      
      updateSuggestion();
      console.log('Word submitted successfully:', word);
    }

    // Reset the game
    function resetGame() {
      console.log('Setting up reset handler...');
      const resetButton = document.getElementById('reset-button');
      if (!resetButton) {
        console.error('Reset button not found!');
        return;
      }
      
      resetButton.addEventListener('click', function() {
        console.log('Resetting game...');
        for (let row = 0; row < 6; row++) {
          const rowDiv = document.getElementById(`row-${row}`);
          if (!rowDiv) continue;
          
          const tiles = rowDiv.querySelectorAll('.tile');
          for (let col = 0; col < 5; col++) {
            tiles[col].textContent = '';
            tiles[col].classList.remove('filled', 'gray', 'yellow', 'green');
          }
        }
        
        solver.reset();
        updateSuggestion();
        
        const input = document.getElementById('guess-input');
        if (input) {
          input.value = '';
          document.getElementById('submit-button').disabled = true;
        }
        console.log('Game reset successfully');
      });
      console.log('Reset handler set up successfully');
    }

    // Initialize everything when the page loads
    document.addEventListener('DOMContentLoaded', function() {
      console.log('DOM loaded, initializing solver...');
      try {
        initializeGameBoard();
        handleWordInput();
        resetGame();
        initializeSimulation();
        updateSuggestion();
        console.log('Solver initialized successfully');
      } catch (error) {
        console.error('Error initializing solver:', error);
      }
    });

    // Hamburger Navigation Functionality
    function toggleNav() {
      const navMenu = document.getElementById('navMenu');
      const navOverlay = document.getElementById('navOverlay');
      const hamburgerBtn = document.querySelector('.hamburger-btn');
      
      navMenu.classList.toggle('active');
      navOverlay.classList.toggle('active');
      hamburgerBtn.classList.toggle('active');
      
      if (navMenu.classList.contains('active')) {
        document.body.style.overflow = 'hidden';
      } else {
        document.body.style.overflow = '';
      }
    }

    function closeNav() {
      const navMenu = document.getElementById('navMenu');
      const navOverlay = document.getElementById('navOverlay');
      const hamburgerBtn = document.querySelector('.hamburger-btn');
      
      navMenu.classList.remove('active');
      navOverlay.classList.remove('active');
      hamburgerBtn.classList.remove('active');
      document.body.style.overflow = '';
    }

    // Close menu when clicking on a link
    document.querySelectorAll('.nav-menu-link').forEach(link => {
      link.addEventListener('click', () => {
        closeNav();
      });
    });

    // Close menu with Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        closeNav();
      }
    });

    // Close menu on window resize
    window.addEventListener('resize', () => {
      if (window.innerWidth > 768) {
        closeNav();
      }
    });

    // Function to open Wordle Unlimited in new tab
    function openWordleUnlimited() {
      window.open('https://wordleunlimited.org/', '_blank');
    }

    // Advanced Solver Warning Functions
    function showAdvancedSolverWarning(event) {
      event.preventDefault();
      const warningOverlay = document.getElementById('warningOverlay');
      warningOverlay.classList.add('active');
      closeNav();
    }

    function hideAdvancedSolverWarning() {
      const warningOverlay = document.getElementById('warningOverlay');
      warningOverlay.classList.remove('active');
    }

    function proceedToAdvancedSolver() {
      hideAdvancedSolverWarning();
      window.location.href = 'advanced_solver.html';
    }

    // Close warning when clicking outside
    document.getElementById('warningOverlay').addEventListener('click', function(event) {
      if (event.target === this) {
        hideAdvancedSolverWarning();
      }
    });

    // Close warning with Escape key
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        hideAdvancedSolverWarning();
      }
    });

    // Simulation functionality
    let simulationStats = {
      gamesPlayed: 0,
      totalGuesses: 0,
      successfulGames: 0,
      guessDistribution: {1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0, 'fail': 0}
    };

    let chart = null;

    // Initialize simulation controls
    function initializeSimulation() {
      const run1Button = document.getElementById('run-1-sim');
      const run10Button = document.getElementById('run-10-sim');
      
      if (run1Button) {
        run1Button.addEventListener('click', () => runSimulation(1));
      }
      
      if (run10Button) {
        run10Button.addEventListener('click', () => runSimulation(10));
      }
      
      initializeChart();
    }

    // Run simulation(s)
    function runSimulation(count) {
      const buttons = document.querySelectorAll('#run-1-sim, #run-10-sim');
      buttons.forEach(btn => btn.disabled = true);
      
      const resultDiv = document.getElementById('last-sim-result');
      resultDiv.textContent = `Running ${count} simulation${count > 1 ? 's' : ''}...`;
      
      // Run simulations asynchronously to avoid blocking UI
      setTimeout(() => {
        for (let i = 0; i < count; i++) {
          runSingleSimulation();
        }
        
        updateSimulationStats();
        updateChart();
        
        resultDiv.textContent = `Completed ${count} simulation${count > 1 ? 's' : ''}. Average: ${(simulationStats.totalGuesses / simulationStats.gamesPlayed).toFixed(2)} guesses`;
        
        buttons.forEach(btn => btn.disabled = false);
      }, 100);
    }

    // Run a single simulation
    function runSingleSimulation() {
      // Pick a random target word
      const targetWord = WORD_LIST[Math.floor(Math.random() * WORD_LIST.length)];
      
      // Create a fresh solver instance for this simulation
      const simSolver = new WordleSolver();
      
      let guesses = 0;
      const maxGuesses = 6;
      
      while (guesses < maxGuesses) {
        guesses++;
        
        // Get the solver's suggestion
        const suggestion = simSolver.getBestNextWord();
        if (!suggestion) break;
        
        // Generate feedback for this guess
        const feedback = generateFeedback(suggestion, targetWord);
        
        // Check if we won
        if (feedback.every(f => f === 'green')) {
          simulationStats.successfulGames++;
          simulationStats.guessDistribution[guesses]++;
          break;
        }
        
        // Process feedback and continue
        simSolver.processFeedback(suggestion, feedback);
      }
      
      // If we didn't win, count as failure
      if (guesses === maxGuesses && !simSolver.possibleWords.includes(targetWord)) {
        simulationStats.guessDistribution['fail']++;
      }
      
      simulationStats.gamesPlayed++;
      simulationStats.totalGuesses += guesses;
    }

    // Generate feedback for a guess against a target word
    function generateFeedback(guess, target) {
      const feedback = ['gray', 'gray', 'gray', 'gray', 'gray'];
      const targetLetters = target.split('');
      const guessLetters = guess.split('');
      
      // First pass: mark greens
      for (let i = 0; i < 5; i++) {
        if (guessLetters[i] === targetLetters[i]) {
          feedback[i] = 'green';
          targetLetters[i] = null; // Mark as used
        }
      }
      
      // Second pass: mark yellows
      for (let i = 0; i < 5; i++) {
        if (feedback[i] !== 'green') {
          const letterIndex = targetLetters.indexOf(guessLetters[i]);
          if (letterIndex !== -1) {
            feedback[i] = 'yellow';
            targetLetters[letterIndex] = null; // Mark as used
          }
        }
      }
      
      return feedback;
    }

    // Update simulation statistics display
    function updateSimulationStats() {
      const gamesPlayedDiv = document.getElementById('games-played');
      const averageGuessesDiv = document.getElementById('average-guesses');
      const successRateDiv = document.getElementById('success-rate');
      
      if (gamesPlayedDiv) {
        gamesPlayedDiv.textContent = simulationStats.gamesPlayed;
      }
      
      if (averageGuessesDiv) {
        if (simulationStats.gamesPlayed > 0) {
          const avg = (simulationStats.totalGuesses / simulationStats.gamesPlayed).toFixed(2);
          averageGuessesDiv.textContent = avg;
        } else {
          averageGuessesDiv.textContent = '-';
        }
      }
      
      if (successRateDiv) {
        if (simulationStats.gamesPlayed > 0) {
          const rate = ((simulationStats.successfulGames / simulationStats.gamesPlayed) * 100).toFixed(1);
          successRateDiv.textContent = rate + '%';
        } else {
          successRateDiv.textContent = '-';
        }
      }
    }

    // Initialize the chart
    function initializeChart() {
      const ctx = document.getElementById('simulation-chart');
      if (!ctx) return;
      
      chart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['1', '2', '3', '4', '5', '6', 'Fail'],
          datasets: [{
            label: 'Games',
            data: [0, 0, 0, 0, 0, 0, 0],
            backgroundColor: [
              '#22c55e', // Green for 1
              '#22c55e', // Green for 2
              '#22c55e', // Green for 3
              '#eab308', // Yellow for 4
              '#eab308', // Yellow for 5
              '#eab308', // Yellow for 6
              '#ef4444'  // Red for fail
            ],
            borderColor: [
              '#16a34a',
              '#16a34a',
              '#16a34a',
              '#ca8a04',
              '#ca8a04',
              '#ca8a04',
              '#dc2626'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          scales: {
            y: {
              beginAtZero: true,
              title: {
                display: true,
                text: 'Number of Games'
              }
            },
            x: {
              title: {
                display: true,
                text: 'Number of Guesses'
              }
            }
          },
          plugins: {
            title: {
              display: true,
              text: 'Guess Distribution'
            },
            legend: {
              display: false
            }
          }
        }
      });
    }

    // Update the chart with current data
    function updateChart() {
      if (!chart) return;
      
      chart.data.datasets[0].data = [
        simulationStats.guessDistribution[1] || 0,
        simulationStats.guessDistribution[2] || 0,
        simulationStats.guessDistribution[3] || 0,
        simulationStats.guessDistribution[4] || 0,
        simulationStats.guessDistribution[5] || 0,
        simulationStats.guessDistribution[6] || 0,
        simulationStats.guessDistribution['fail'] || 0
      ];
      
      chart.update();
    }
  </script>
</body>
</html> 